"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[94],{1396:(e,t,r)=>{r.d(t,{Ey:()=>a,UD:()=>i,Xy:()=>s,at:()=>u,g3:()=>l,gY:()=>c,mF:()=>o});var n=r(6429);function s(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r="easy"===e?[2,8]:"medium"===e?[2,12]:[2,20],s=Math.floor(Math.random()*(r[1]-r[0]+1))+r[0];if(t){let t=Math.floor(Math.random()*("easy"===e?2*s:"medium"===e?3*s:4*s))+1;return new n.A(t,s)}{let e=Math.floor(Math.random()*(s-1))+1;return new n.A(e,s)}}let o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=Math.floor(Math.random()*e)+2,r=Math.floor(Math.random()*(t-1))+1;return new n.A(r,t)},i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,r=Math.floor(Math.random()*t)+2,s=r+Math.floor(Math.random()*e);return new n.A(s,r)},a=e=>{let t=Number(e.n),r=Number(e.d);if(1===r)return t.toString();if(Math.abs(t)<r)return"".concat(t,"/").concat(r);let n=Math.floor(Math.abs(t)/r),s=Math.abs(t)%r,o=t<0?"-":"";return 0===s?"".concat(o).concat(n):"".concat(o).concat(n," ").concat(s,"/").concat(r)},u=e=>{try{let t=e.trim();if(/^\d+$/.test(t))return new n.A(parseInt(t));if(/^\d+\/\d+$/.test(t))return new n.A(t);let r=t.match(/^(\d+)\s+(\d+)\/(\d+)$/);if(r){let e=parseInt(r[1]),t=parseInt(r[2]),s=parseInt(r[3]);return new n.A(e).add(new n.A(t,s))}let s=t.match(/^-(\d+)\s+(\d+)\/(\d+)$/);if(s){let e=parseInt(s[1]),t=parseInt(s[2]),r=parseInt(s[3]);return new n.A(e).add(new n.A(t,r)).mul(-1)}return null}catch(e){return null}},c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=new Set([a(e)]);for(;r.size<t;){let t,o=Math.random();if(o<.3){let r=.5>Math.random()?1:-1,s=Number(e.n),o=Number(e.d);t=new n.A(s+r,o)}else if(o<.6){let r=.5>Math.random()?1:-1,s=Number(e.n),o=Number(e.d);t=new n.A(s,Math.max(1,o+r))}else t=s("medium",!0);t.compare(0)>0&&!t.equals(e)&&r.add(a(t))}return Array.from(r).sort(()=>Math.random()-.5)},l=(e,t)=>{let r=u(e),n=u(t);return!!r&&!!n&&r.equals(n)}},2056:(e,t,r)=>{r.d(t,{O:()=>s,b:()=>n});let n={save:e=>{try{localStorage.setItem("mathquiz_user_preferences",JSON.stringify({...e,lastUpdated:new Date().toISOString()}))}catch(e){console.error("Failed to save user preferences:",e)}},load:()=>{try{let e=localStorage.getItem("mathquiz_user_preferences");if(!e)return null;let t=JSON.parse(e);return{...t,lastUpdated:new Date(t.lastUpdated)}}catch(e){return console.error("Failed to load user preferences:",e),null}},clear:()=>{try{localStorage.removeItem("mathquiz_user_preferences")}catch(e){console.error("Failed to clear user preferences:",e)}}},s={save:e=>{try{let t={...e,id:"game_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),completedAt:new Date},r=s.loadAll(),n=[t,...r].slice(0,100);return localStorage.setItem("mathquiz_game_history",JSON.stringify(n)),t}catch(e){throw console.error("Failed to save game result:",e),e}},loadAll:()=>{try{let e=localStorage.getItem("mathquiz_game_history");if(!e)return[];return JSON.parse(e).map(e=>({...e,completedAt:new Date(e.completedAt)}))}catch(e){return console.error("Failed to load game history:",e),[]}},loadByUser:e=>{try{return s.loadAll().filter(t=>t.username.toLowerCase()===e.toLowerCase())}catch(e){return console.error("Failed to load user game history:",e),[]}},clear:()=>{try{localStorage.removeItem("mathquiz_game_history")}catch(e){console.error("Failed to clear game history:",e)}},clearByUser:e=>{try{let t=s.loadAll().filter(t=>t.username.toLowerCase()!==e.toLowerCase());localStorage.setItem("mathquiz_game_history",JSON.stringify(t))}catch(e){console.error("Failed to clear user game history:",e)}}}},2745:(e,t,r)=>{r.d(t,{al:()=>s});var n=r(2115);let s=()=>{let[e,t]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let e=()=>{t(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e}},4223:(e,t,r)=>{r.d(t,{T:()=>s});var n=r(5155);r(2115);let s=e=>{let{variant:t="primary",size:r="md",fullWidth:s=!1,icon:o,children:i,onClick:a,disabled:u=!1,className:c=""}=e;return(0,n.jsxs)("button",{onClick:a,disabled:u,className:"".concat("font-semibold rounded-xl transition-all duration-200 active:scale-95 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 cursor-pointer"," ").concat({sm:"min-h-[44px] px-4 py-2 text-sm",md:"min-h-[56px] px-6 py-3 text-base",lg:"min-h-[72px] px-8 py-4 text-lg"}[r]," ").concat({primary:"bg-gradient-to-r from-blue-500 to-purple-600 dark:from-blue-600 dark:to-purple-700 text-white shadow-lg hover:shadow-xl hover:from-blue-600 hover:to-purple-700 dark:hover:from-blue-700 dark:hover:to-purple-800 hover:transform hover:scale-105",secondary:"bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-slate-600 hover:bg-gray-200 dark:hover:bg-slate-600 hover:transform hover:scale-105",tile:"bg-white dark:bg-slate-800 text-gray-800 dark:text-gray-200 border-2 border-gray-200 dark:border-slate-600 hover:border-gray-300 dark:hover:border-slate-500 hover:bg-gray-50 dark:hover:bg-slate-700 shadow-sm hover:transform hover:scale-105",ghost:"bg-transparent text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-800 hover:transform hover:scale-105"}[t]," ").concat(s?"w-full":""," ").concat(c),children:[o&&(0,n.jsx)("span",{children:o}),(0,n.jsx)("span",{children:i})]})}},6066:(e,t,r)=>{r.d(t,{e:()=>a});var n=r(5453),s=r(1396),o=r(2056);let i={username:"",difficulty:"easy",numberOfQuestions:5,timerPerQuestion:10,questionType:"expression",mathOperations:["addition"],numberTypes:["integers"],timerEnabled:!0,questionsEnabled:!0,minCorrectAnswers:0,maxCorrectAnswers:5,correctAnswersEnabled:!1,minIncorrectAnswers:0,maxIncorrectAnswers:5,incorrectAnswersEnabled:!1},a=(0,n.v)((e,t)=>({settings:i,questions:[],currentQuestionIndex:0,timeRemaining:i.timerPerQuestion,isQuizActive:!1,isQuizCompleted:!1,currentStreak:0,bestStreak:0,correctAnswersCount:0,incorrectAnswersCount:0,quizStartTime:null,updateSettings:t=>e(e=>({settings:{...e.settings,...t}})),setQuestions:t=>e({questions:t,currentQuestionIndex:0}),startQuiz:()=>e(e=>({isQuizActive:!0,isQuizCompleted:!1,currentQuestionIndex:0,timeRemaining:e.settings.timerEnabled?e.settings.timerPerQuestion:0,correctAnswersCount:0,incorrectAnswersCount:0,quizStartTime:Date.now()})),nextQuestion:()=>e(e=>{let t=e.currentQuestionIndex+1,r=t>=e.questions.length,n=e.settings.correctAnswersEnabled&&e.correctAnswersCount>=e.settings.maxCorrectAnswers,s=e.settings.incorrectAnswersEnabled&&e.incorrectAnswersCount>=e.settings.maxIncorrectAnswers,o=r||n||s;return{currentQuestionIndex:t,timeRemaining:o?0:e.settings.timerEnabled?e.settings.timerPerQuestion:0,isQuizCompleted:o,isQuizActive:!o}}),submitAnswer:t=>e(e=>{let r=[...e.questions],n=r[e.currentQuestionIndex];if(n){n.userAnswer=t,n.isCorrect=.01>Math.abs(n.answer-t),n.timeSpent=e.settings.timerEnabled?e.settings.timerPerQuestion-e.timeRemaining:0;let s=n.isCorrect?e.currentStreak+1:0,o=Math.max(e.bestStreak,s);return{questions:r,currentStreak:s,bestStreak:o,correctAnswersCount:n.isCorrect?e.correctAnswersCount+1:e.correctAnswersCount,incorrectAnswersCount:n.isCorrect?e.incorrectAnswersCount:e.incorrectAnswersCount+1}}return{questions:r}}),submitFractionAnswer:t=>e(e=>{let r=[...e.questions],n=r[e.currentQuestionIndex];if(n){if(n.userFractionAnswer=t,n.fractionAnswer)n.isCorrect=(0,s.g3)(t,n.fractionAnswer);else{let e=(0,s.at)(t),r=e?Number(e.valueOf()):0;n.isCorrect=.01>Math.abs(n.answer-r)}n.timeSpent=e.settings.timerEnabled?e.settings.timerPerQuestion-e.timeRemaining:0;let o=n.isCorrect?e.currentStreak+1:0,i=Math.max(e.bestStreak,o);return{questions:r,currentStreak:o,bestStreak:i,correctAnswersCount:n.isCorrect?e.correctAnswersCount+1:e.correctAnswersCount,incorrectAnswersCount:n.isCorrect?e.incorrectAnswersCount:e.incorrectAnswersCount+1}}return{questions:r}}),submitCurrencyAnswer:t=>e(e=>{let r=[...e.questions],n=r[e.currentQuestionIndex];if(n){let s=parseFloat(t.replace("$",""))||0;n.userAnswer=s,n.isCorrect=.01>Math.abs(n.answer-s),n.timeSpent=e.settings.timerEnabled?e.settings.timerPerQuestion-e.timeRemaining:0;let o=n.isCorrect?e.currentStreak+1:0,i=Math.max(e.bestStreak,o);return{questions:r,currentStreak:o,bestStreak:i,correctAnswersCount:n.isCorrect?e.correctAnswersCount+1:e.correctAnswersCount,incorrectAnswersCount:n.isCorrect?e.incorrectAnswersCount:e.incorrectAnswersCount+1}}return{questions:r}}),submitTimeAnswer:t=>e(e=>{let r=[...e.questions],n=r[e.currentQuestionIndex];if(n){let s=t.split(":").map(Number),o=0;2===s.length&&(o=n.answer>3600?(60*s[0]+s[1])*60:60*s[0]+s[1]),n.userAnswer=o,n.isCorrect=1>Math.abs(n.answer-o),n.timeSpent=e.settings.timerEnabled?e.settings.timerPerQuestion-e.timeRemaining:0;let i=n.isCorrect?e.currentStreak+1:0,a=Math.max(e.bestStreak,i);return{questions:r,currentStreak:i,bestStreak:a,correctAnswersCount:n.isCorrect?e.correctAnswersCount+1:e.correctAnswersCount,incorrectAnswersCount:n.isCorrect?e.incorrectAnswersCount:e.incorrectAnswersCount+1}}return{questions:r}}),setTimeRemaining:t=>e({timeRemaining:t}),completeQuiz:()=>e({isQuizActive:!1,isQuizCompleted:!0}),resetQuiz:()=>e({questions:[],currentQuestionIndex:0,timeRemaining:t().settings.timerEnabled?t().settings.timerPerQuestion:0,isQuizActive:!1,isQuizCompleted:!1,currentStreak:0,correctAnswersCount:0,incorrectAnswersCount:0,quizStartTime:null}),retryQuiz:r=>e({questions:r,currentQuestionIndex:0,timeRemaining:t().settings.timerEnabled?t().settings.timerPerQuestion:0,isQuizActive:!1,isQuizCompleted:!1,currentStreak:0,correctAnswersCount:0,incorrectAnswersCount:0,quizStartTime:null}),loadUserPreferences:()=>{let t=o.b.load();t&&e(e=>({settings:{...e.settings,...t.settings}}))},saveUserPreferences:()=>{let e=t();o.b.save({username:e.settings.username,settings:e.settings,lastUpdated:new Date})},saveGameResult:()=>{let e=t();if(!e.isQuizCompleted||0===e.questions.length)return null;let r=e.questions.filter(e=>e.isCorrect).length,n=e.questions.length,s=Math.round(r/n*100),i=e.questions.reduce((e,t)=>e+(t.timeSpent||0),0),a=e.quizStartTime?Math.round((Date.now()-e.quizStartTime)/1e3):i;return o.O.save({username:e.settings.username,settings:e.settings,questions:e.questions.map(e=>{var t;return{question:e.question,correctAnswer:e.fractionAnswer||e.answer.toString(),userAnswer:e.userFractionAnswer||(null==(t=e.userAnswer)?void 0:t.toString())||"",isCorrect:e.isCorrect||!1,timeSpent:e.timeSpent||0}}),totalQuestions:n,correctAnswers:r,incorrectAnswers:e.incorrectAnswersCount,score:s,timeSpent:i,quizDuration:a,averageTimePerQuestion:n>0?Math.round(i/n):0})},clearUserData:()=>{o.b.clear(),o.O.clear(),e({settings:i,questions:[],currentQuestionIndex:0,timeRemaining:i.timerEnabled?i.timerPerQuestion:0,isQuizActive:!1,isQuizCompleted:!1,currentStreak:0,bestStreak:0,correctAnswersCount:0,incorrectAnswersCount:0,quizStartTime:null})}}))}}]);