(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[602],{560:(e,r,t)=>{"use strict";t.d(r,{Fj:()=>i,x0:()=>l,HW:()=>a,GS:()=>s,Pq:()=>o});let n=JSON.parse('{"d":[{"name":"No Challenge","description":"Standard quiz with no special restrictions","settings":{"timerEnabled":true,"questionsEnabled":true,"minCorrectAnswers":0,"maxCorrectAnswers":10,"correctAnswersEnabled":false,"minIncorrectAnswers":0,"maxIncorrectAnswers":10,"incorrectAnswersEnabled":false,"overallTimerEnabled":false,"overallTimerDuration":0}},{"name":"Perfect Score","description":"Get all questions right - no mistakes allowed!","settings":{"timerEnabled":true,"questionsEnabled":true,"minCorrectAnswers":10,"maxCorrectAnswers":10,"correctAnswersEnabled":true,"minIncorrectAnswers":0,"maxIncorrectAnswers":0,"incorrectAnswersEnabled":true,"overallTimerEnabled":false,"overallTimerDuration":0,"numberOfQuestions":10,"timerPerQuestion":15}},{"name":"Speed Challenge","description":"Beat the clock! Complete 15 questions in 3 minutes","settings":{"timerEnabled":true,"questionsEnabled":true,"minCorrectAnswers":0,"maxCorrectAnswers":15,"correctAnswersEnabled":false,"minIncorrectAnswers":0,"maxIncorrectAnswers":15,"incorrectAnswersEnabled":false,"overallTimerEnabled":true,"overallTimerDuration":180,"numberOfQuestions":15,"timerPerQuestion":8}},{"name":"Endurance Test","description":"Complete 20 questions with maximum 3 incorrect answers","settings":{"timerEnabled":true,"questionsEnabled":true,"minCorrectAnswers":0,"maxCorrectAnswers":20,"correctAnswersEnabled":false,"minIncorrectAnswers":0,"maxIncorrectAnswers":3,"incorrectAnswersEnabled":true,"overallTimerEnabled":false,"overallTimerDuration":0,"numberOfQuestions":20,"timerPerQuestion":12}},{"name":"Lightning Round","description":"Answer 8 questions correctly in just 2 minutes!","settings":{"timerEnabled":true,"questionsEnabled":false,"minCorrectAnswers":8,"maxCorrectAnswers":8,"correctAnswersEnabled":true,"minIncorrectAnswers":0,"maxIncorrectAnswers":20,"incorrectAnswersEnabled":false,"overallTimerEnabled":true,"overallTimerDuration":120,"numberOfQuestions":20,"timerPerQuestion":5}},{"name":"Quick Fire","description":"Super fast! 5 seconds per question, 12 questions total","settings":{"timerEnabled":true,"questionsEnabled":true,"minCorrectAnswers":0,"maxCorrectAnswers":12,"correctAnswersEnabled":false,"minIncorrectAnswers":0,"maxIncorrectAnswers":12,"incorrectAnswersEnabled":false,"overallTimerEnabled":false,"overallTimerDuration":0,"numberOfQuestions":12,"timerPerQuestion":5}},{"name":"Streak Master","description":"Get 5 questions right in a row with only 1 mistake allowed","settings":{"timerEnabled":true,"questionsEnabled":false,"minCorrectAnswers":5,"maxCorrectAnswers":5,"correctAnswersEnabled":true,"minIncorrectAnswers":0,"maxIncorrectAnswers":1,"incorrectAnswersEnabled":true,"overallTimerEnabled":false,"overallTimerDuration":0,"numberOfQuestions":10,"timerPerQuestion":12}},{"name":"Marathon Mode","description":"Epic challenge! 30 questions with 5 minutes total time","settings":{"timerEnabled":true,"questionsEnabled":true,"minCorrectAnswers":0,"maxCorrectAnswers":30,"correctAnswersEnabled":false,"minIncorrectAnswers":0,"maxIncorrectAnswers":30,"incorrectAnswersEnabled":false,"overallTimerEnabled":true,"overallTimerDuration":300,"numberOfQuestions":30,"timerPerQuestion":10}},{"name":"Precision Test","description":"Get 15 out of 16 questions correct - almost perfect!","settings":{"timerEnabled":true,"questionsEnabled":true,"minCorrectAnswers":15,"maxCorrectAnswers":15,"correctAnswersEnabled":true,"minIncorrectAnswers":0,"maxIncorrectAnswers":1,"incorrectAnswersEnabled":true,"overallTimerEnabled":false,"overallTimerDuration":0,"numberOfQuestions":16,"timerPerQuestion":15}},{"name":"Time Pressure","description":"Limited time! 7 seconds per question for 10 questions","settings":{"timerEnabled":true,"questionsEnabled":true,"minCorrectAnswers":0,"maxCorrectAnswers":10,"correctAnswersEnabled":false,"minIncorrectAnswers":0,"maxIncorrectAnswers":10,"incorrectAnswersEnabled":false,"overallTimerEnabled":false,"overallTimerDuration":0,"numberOfQuestions":10,"timerPerQuestion":7}},{"name":"One Shot Wonder","description":"Ultimate challenge! Get 3 questions right with zero mistakes","settings":{"timerEnabled":true,"questionsEnabled":true,"minCorrectAnswers":3,"maxCorrectAnswers":3,"correctAnswersEnabled":true,"minIncorrectAnswers":0,"maxIncorrectAnswers":0,"incorrectAnswersEnabled":true,"overallTimerEnabled":false,"overallTimerDuration":0,"numberOfQuestions":3,"timerPerQuestion":20}},{"name":"Survivor Mode","description":"Keep going until you get 3 wrong - how many can you get right?","settings":{"timerEnabled":true,"questionsEnabled":false,"minCorrectAnswers":0,"maxCorrectAnswers":50,"correctAnswersEnabled":false,"minIncorrectAnswers":0,"maxIncorrectAnswers":3,"incorrectAnswersEnabled":true,"overallTimerEnabled":false,"overallTimerDuration":0,"numberOfQuestions":50,"timerPerQuestion":15}},{"name":"Rush Hour","description":"Crazy fast! Complete 20 questions in 90 seconds","settings":{"timerEnabled":true,"questionsEnabled":true,"minCorrectAnswers":0,"maxCorrectAnswers":20,"correctAnswersEnabled":false,"minIncorrectAnswers":0,"maxIncorrectAnswers":20,"incorrectAnswersEnabled":false,"overallTimerEnabled":true,"overallTimerDuration":90,"numberOfQuestions":20,"timerPerQuestion":4}},{"name":"Steady Pace","description":"Relaxed mode! 25 seconds per question, take your time","settings":{"timerEnabled":true,"questionsEnabled":true,"minCorrectAnswers":0,"maxCorrectAnswers":8,"correctAnswersEnabled":false,"minIncorrectAnswers":0,"maxIncorrectAnswers":8,"incorrectAnswersEnabled":false,"overallTimerEnabled":false,"overallTimerDuration":0,"numberOfQuestions":8,"timerPerQuestion":25}},{"name":"Double or Nothing","description":"High stakes! Get 6 right with maximum 2 wrong answers","settings":{"timerEnabled":true,"questionsEnabled":false,"minCorrectAnswers":6,"maxCorrectAnswers":6,"correctAnswersEnabled":true,"minIncorrectAnswers":0,"maxIncorrectAnswers":2,"incorrectAnswersEnabled":true,"overallTimerEnabled":false,"overallTimerDuration":0,"numberOfQuestions":15,"timerPerQuestion":18}}]}');function s(){return n.d}function a(e){return s().find(r=>r.name===e)}function i(e,r){let t=a(r);if(!t)return{...e,challengeMode:void 0};if("No Challenge"===t.name)return{...e,challengeMode:t.name,correctAnswersEnabled:!1,incorrectAnswersEnabled:!1,overallTimerEnabled:!1};let n={...e,challengeMode:t.name,timerEnabled:t.settings.timerEnabled,questionsEnabled:t.settings.questionsEnabled,minCorrectAnswers:t.settings.minCorrectAnswers,maxCorrectAnswers:t.settings.maxCorrectAnswers,correctAnswersEnabled:t.settings.correctAnswersEnabled,minIncorrectAnswers:t.settings.minIncorrectAnswers,maxIncorrectAnswers:t.settings.maxIncorrectAnswers,incorrectAnswersEnabled:t.settings.incorrectAnswersEnabled,overallTimerEnabled:t.settings.overallTimerEnabled,overallTimerDuration:t.settings.overallTimerDuration};return void 0!==t.settings.numberOfQuestions&&(n.numberOfQuestions=t.settings.numberOfQuestions,n.maxCorrectAnswers=Math.min(n.maxCorrectAnswers,t.settings.numberOfQuestions),n.maxIncorrectAnswers=Math.min(n.maxIncorrectAnswers,t.settings.numberOfQuestions)),void 0!==t.settings.timerPerQuestion&&(n.timerPerQuestion=t.settings.timerPerQuestion),n}function o(e,r,t,n,s){let i=a(e);if(!i||"No Challenge"===i.name)return!1;let o=i.settings;return(!o.correctAnswersEnabled||!(r<o.minCorrectAnswers)&&!(r>o.maxCorrectAnswers))&&(!o.incorrectAnswersEnabled||!(t<o.minIncorrectAnswers)&&!(t>o.maxIncorrectAnswers))&&(!o.overallTimerEnabled||!s||!(s>o.overallTimerDuration))}function l(e){return({"Perfect Score":"\uD83C\uDFAF Amazing! You achieved a perfect score! Every answer was correct!","Speed Challenge":"⚡ Lightning fast! You beat the clock and conquered the speed challenge!","Endurance Test":"\uD83D\uDCAA Incredible stamina! You completed the endurance test like a true champion!","Lightning Round":"\uD83C\uDF1F Spectacular! You dominated the lightning round with precision and speed!","Quick Fire":"\uD83D\uDD25 Blazing fast! You mastered the quick fire challenge with incredible speed!","Streak Master":"\uD83C\uDFC6 Streak genius! You nailed 5 in a row like a true math master!","Marathon Mode":"\uD83C\uDFC3‍♂️ Marathon champion! You conquered the epic 30-question challenge!","Precision Test":"\uD83C\uDFAA Near perfection! Your precision is absolutely outstanding!","Time Pressure":"⏰ Pressure handled! You stayed cool under the time crunch!","One Shot Wonder":"\uD83D\uDC8E Flawless execution! You're a one-shot wonder superstar!","Survivor Mode":"\uD83E\uDDB8‍♂️ Ultimate survivor! You outlasted the challenge like a hero!","Rush Hour":"\uD83D\uDE80 Rush hour master! You blazed through with incredible speed!","Steady Pace":"\uD83D\uDC22 Steady wins the race! Your patience and accuracy paid off!","Double or Nothing":"\uD83C\uDFB2 High stakes hero! You conquered the double or nothing challenge!"})[e]||"\uD83C\uDF89 Congratulations! You completed the ".concat(e," challenge!")}},987:(e,r,t)=>{"use strict";t.d(r,{HP:()=>n,NM:()=>a,R7:()=>s});let n=function(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return r&&!r.animations||window.matchMedia("(prefers-reduced-motion: reduce)").matches?t:e},s={float:e=>n("animate-float",e),bounceGentle:e=>n("animate-bounce-gentle",e),shimmer:e=>n("animate-shimmer",e),rainbow:e=>n("animate-rainbow",e),pulse:e=>n("animate-pulse",e),bounce:e=>n("animate-bounce",e),spin:e=>n("animate-spin",e),transition:e=>n("transition-all duration-200",e),scaleHover:e=>n("hover:scale-105 transition-transform duration-200",e),fadeIn:e=>n("animate-fade-in",e)},a=e=>(!e||!!e.animations)&&!window.matchMedia("(prefers-reduced-motion: reduce)").matches},2325:(e,r,t)=>{"use strict";t.d(r,{SystemSettingsProvider:()=>o,e:()=>l});var n=t(5155),s=t(2115);let a={animations:!0,sounds:!0},i=(0,s.createContext)(void 0);function o(e){let{children:r,defaultValues:t={}}=e,[o,l]=(0,s.useState)({...a,...t}),[c,u]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{try{let e=localStorage.getItem("mathquiz-system-settings");if(e){let r=JSON.parse(e);l(e=>({...e,...r}))}}catch(e){console.warn("Failed to load system settings:",e)}u(!0)},[]),(0,s.useEffect)(()=>{if(c)try{localStorage.setItem("mathquiz-system-settings",JSON.stringify(o))}catch(e){console.warn("Failed to save system settings:",e)}},[o,c]),(0,n.jsx)(i.Provider,{value:{settings:o,updateSetting:(e,r)=>{l(t=>({...t,[e]:r}))},resetSettings:()=>{l(a)}},children:r})}function l(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useSystemSettings must be used within a SystemSettingsProvider");return e}},3557:(e,r,t)=>{Promise.resolve().then(t.bind(t,4129))},4129:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>w});var n=t(5155),s=t(2115),a=t(5695),i=t(8258),o=t(2745);let l=(e,r)=>{if(!r||r.sounds)try{let r=new(window.AudioContext||window.webkitAudioContext),t=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sine",s=r.createOscillator(),a=r.createGain();s.connect(a),a.connect(r.destination),s.frequency.setValueAtTime(e,r.currentTime),s.type=n,a.gain.setValueAtTime(.1,r.currentTime),a.gain.exponentialRampToValueAtTime(.01,r.currentTime+t),s.start(),s.stop(r.currentTime+t)};switch(e){case"correct":t(523,.15),setTimeout(()=>t(659,.15),100),setTimeout(()=>t(784,.2),200);break;case"incorrect":t(400,.2,"triangle"),setTimeout(()=>t(350,.3,"triangle"),150);break;case"button":t(800,.1,"square");break;case"completion":t(523,.15),setTimeout(()=>t(659,.15),100),setTimeout(()=>t(784,.15),200),setTimeout(()=>t(1047,.3),300)}}catch(e){console.warn("Failed to play sound:",e)}},c=(e,r)=>{if((!r||r.sounds)&&"vibrate"in navigator)try{navigator.vibrate(e)}catch(e){console.warn("Failed to vibrate:",e)}};var u=t(2325),d=t(987);let m=()=>{let e=["fadeIn","slideLeft","slideRight","slideUp","slideDown","scaleIn"];return{type:e[Math.floor(Math.random()*e.length)],duration:1e3,delay:50}},x=function(e){let r=!(arguments.length>1)||void 0===arguments[1]||arguments[1],[t,n]=(0,s.useState)("idle"),[a,i]=(0,s.useState)(m()),[o,l]=(0,s.useState)(!1),[c,u]=(0,s.useState)("transition-".concat(Date.now())),d=(0,s.useRef)(null),x=(0,s.useRef)(null);return(0,s.useEffect)(()=>(r&&e>0?(d.current&&clearTimeout(d.current),x.current&&clearTimeout(x.current),l(!0),i(m()),u("transition-".concat(e,"-").concat(Date.now())),n("exiting"),d.current=setTimeout(()=>{n("entering"),x.current=setTimeout(()=>{n("idle"),l(!1)},500)},500)):(n("idle"),l(!1)),()=>{d.current&&clearTimeout(d.current),x.current&&clearTimeout(x.current)}),[e,r]),{transitionClasses:((e,r)=>{let t="transition-all duration-1000 ease-in-out";switch(r){case"idle":case"entering":default:return"".concat(t," opacity-100 transform translate-x-0 translate-y-0 scale-100");case"exiting":switch(e.type){case"fadeIn":default:return"".concat(t," opacity-10");case"slideLeft":return"".concat(t," opacity-10 transform -translate-x-4");case"slideRight":return"".concat(t," opacity-10 transform translate-x-4");case"slideUp":return"".concat(t," opacity-10 transform -translate-y-4");case"slideDown":return"".concat(t," opacity-10 transform translate-y-4");case"scaleIn":return"".concat(t," opacity-10 transform scale-95")}}})(a,t),isUserInteractionBlocked:o,transitionConfig:a,animationKey:c,animationPhase:t,isAnimating:"idle"!==t}};var p=t(560);let b=e=>{let{timeRemaining:r,overallTimeRemaining:t,timerEnabled:s,overallTimerEnabled:a,useIcon:i=!0,warningSeconds:o=5}=e;return(0,n.jsxs)("div",{children:[s&&(0,n.jsxs)("div",{style:{...r<=o?{color:"#ef4444",animation:"blink 1s steps(2, start) infinite"}:{}},children:[i?(0,n.jsx)("span",{role:"img","aria-label":"timer",children:"⏰"}):(0,n.jsx)("span",{children:"Time Remaining:"})," ",r,"s"]}),a&&(0,n.jsxs)("div",{style:{...t<=o?{color:"#ef4444",animation:"blink 1s steps(2, start) infinite"}:{}},children:[i?(0,n.jsx)("span",{role:"img","aria-label":"timer",children:"\uD83D\uDD50"}):(0,n.jsx)("span",{children:"Overall Time Remaining:"})," ",t,"s"]}),(0,n.jsx)("style",{children:"\n                @keyframes blink {\n                    0% { opacity: 1; }\n                    50% { opacity: 0; }\n                    100% { opacity: 1; }\n                }\n            "})]})},g=e=>{let{settings:r,currentQuestionIndex:t,questions:s,correctAnswersCount:a,incorrectAnswersCount:i,timeRemaining:o,overallTimeRemaining:l,animationClasses:c,systemSettings:u,progress:d}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[r.questionsEnabled?(0,n.jsxs)("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:[t+1,"/",s.length]}):(0,n.jsxs)("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:["Question ",t+1]}),(0,n.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,n.jsx)("span",{className:"text-green-600 dark:text-green-400",children:"✓"}),(0,n.jsx)("span",{className:"font-medium text-green-600 dark:text-green-400",children:a})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,n.jsx)("span",{className:"text-red-500 dark:text-red-400",children:"✗"}),(0,n.jsx)("span",{className:"font-medium text-red-500 dark:text-red-400",children:i})]})]})]}),(0,n.jsx)("div",{className:"flex-1 text-center",children:(0,n.jsx)("h1",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:r.username})}),(0,n.jsx)("div",{className:"flex items-center space-x-3",children:(0,n.jsx)(b,{timeRemaining:o,overallTimeRemaining:l,timerEnabled:r.timerEnabled,overallTimerEnabled:r.overallTimerEnabled})})]}),r.questionsEnabled?(0,n.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded-full mb-4",children:(0,n.jsx)("div",{className:"h-full bg-gradient-to-r from-purple-400 to-blue-500 rounded-full transition-all duration-300",style:{width:"".concat(d,"%")}})}):(0,n.jsx)("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full",children:(0,n.jsx)("div",{className:"h-full bg-gradient-to-r from-green-400 to-blue-500 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(100,a/Math.max(1,a+i)*100),"%")}})}),r.overallTimerEnabled&&l<=5&&l>0&&(0,n.jsx)("div",{className:"bg-red-100 dark:bg-red-900/30 border-2 border-red-500 rounded-lg p-2 text-center ".concat(c.pulse(u)),children:(0,n.jsxs)("p",{className:"text-red-700 dark:text-red-300 font-bold text-sm",children:["⚠️ Time's Almost Up! ",l," seconds remaining!"]})})]})},f=(0,s.forwardRef)((e,r)=>{let{value:t,onChange:s,placeholder:a="Enter fraction (e.g., 3/4 or 1 2/3)",error:i,fullWidth:l=!1}=e,c=(0,o.al)();return(0,n.jsxs)("div",{className:"".concat(l?"w-full":""),children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("input",{ref:r,type:"text",value:t,onChange:e=>{s(e.target.value)},placeholder:a,className:"\n            ".concat(l?"w-full":"w-auto","\n            ").concat(c?"px-4 py-3 text-lg":"px-6 py-4 text-xl","\n            text-center border-2 border-gray-300 dark:border-slate-600 \n            bg-white dark:bg-slate-800 text-gray-900 dark:text-gray-100 \n            rounded-xl focus:ring-2 focus:ring-purple-500 dark:focus:ring-purple-400 \n            focus:border-transparent transition-all duration-200\n            ").concat(i?"border-red-500 dark:border-red-400":"","\n          "),autoComplete:"off",spellCheck:"false"}),(0,n.jsx)("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 text-center",children:"Examples: 3/4, 1 2/3, 5, 0.5"})]}),i&&(0,n.jsx)("div",{className:"mt-2 text-sm text-red-600 dark:text-red-400 text-center",children:i})]})});f.displayName="FractionInput";var h=t(7523);function w(){var e,r;let t=(0,a.useRouter)(),m=(0,o.al)(),{settings:b}=(0,u.e)(),{settings:w,questions:v,currentQuestionIndex:E,timeRemaining:y,isQuizActive:A,isQuizCompleted:k,correctAnswersCount:T,incorrectAnswersCount:j,overallTimeRemaining:C,overallTimerActive:q,startQuiz:N,nextQuestion:S,submitAnswer:I,submitFractionAnswer:Q,submitCurrencyAnswer:D,submitTimeAnswer:O,setTimeRemaining:P,setOverallTimeRemaining:M,completeQuiz:R}=(0,i.e)(),[F,Y]=(0,s.useState)(""),[z,L]=(0,s.useState)(""),[G,H]=(0,s.useState)(null),[_,U]=(0,s.useState)(null),[W,B]=(0,s.useState)(null),[J,V]=(0,s.useState)(null),K=(0,s.useRef)(null),X=(0,s.useRef)(null),{transitionClasses:Z,isUserInteractionBlocked:$,animationKey:ee}=x(E,b.animations),er=v[E],et=er&&void 0!==er.fractionAnswer,en=er&&void 0!==er.currencyOptions,es=er&&void 0!==er.timeOptions;(0,s.useEffect)(()=>{!(v.length>0)||A||k||N()},[v,A,k,N]),(0,s.useEffect)(()=>{Y(""),L(""),H(null),U(null),B(null),V(null)},[E]),(0,s.useEffect)(()=>{if(!A||!w.timerEnabled||y<=0||$)return;let e=setInterval(()=>{P(y-1)},1e3);return()=>clearInterval(e)},[A,y,P,$,w.timerEnabled]),(0,s.useEffect)(()=>{if(!A||!w.overallTimerEnabled||!q||C<=0)return;let e=setInterval(()=>{M(C-1)},1e3);return()=>clearInterval(e)},[A,C,M,w.overallTimerEnabled,q]),(0,s.useEffect)(()=>{w.timerEnabled&&0===y&&A&&ea()},[y,A,w.timerEnabled]),(0,s.useEffect)(()=>{w.overallTimerEnabled&&0===C&&A&&(l("incorrect",b),c(300,b),R())},[C,A,w.overallTimerEnabled]),(0,s.useEffect)(()=>{0===v.length&&t.push("/")},[v.length,t]),(0,s.useEffect)(()=>{k&&t.push("/results")},[k,t]),(0,s.useEffect)(()=>{er&&A&&setTimeout(()=>{"expression"===w.questionType&&(et&&X.current?X.current.focus():!et&&K.current&&K.current.focus())},100)},[er,A,w.questionType,et]),(0,s.useEffect)(()=>{let e=e=>{"Enter"===e.key&&!$&&A&&(et?"expression"===w.questionType?z.trim().length>0:null!==_:en?"expression"===w.questionType?F.trim().length>0:null!==W:es?"expression"===w.questionType?F.trim().length>0:null!==J:"expression"===w.questionType?F.trim().length>0:null!==G)&&(e.preventDefault(),ei())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[$,A,et,en,es,w.questionType,F,z,G,_,W,J]);let ea=()=>{et?"expression"===w.questionType?I(0):I(-1):en?"expression"===w.questionType?D(F||""):D(""):es?"expression"===w.questionType?O(F||""):O(""):"expression"===w.questionType?I(F&&parseFloat(F)||0):I(G||-1),Y(""),L(""),H(null),U(null),B(null),V(null),E>=v.length-1?R():S()},ei=()=>{if(et)"expression"===w.questionType?Q(z.trim()):Q(_||"");else if(en)"expression"===w.questionType?D(F.trim()):D(W||"");else if(es)"expression"===w.questionType?O(F.trim()):O(J||"");else I("expression"===w.questionType?parseFloat(F)||0:null!==G?G:-1);v[E]&&setTimeout(()=>{let e=i.e.getState().questions[E];(null==e?void 0:e.isCorrect)?(l("correct",b),c([100,50,100],b)):(l("incorrect",b),c(200,b))},100),Y(""),L(""),H(null),U(null),B(null),V(null),E>=v.length-1?setTimeout(()=>{l("completion",b),R()},1500):setTimeout(()=>{S(),setTimeout(()=>{"expression"===w.questionType&&(et&&X.current?X.current.focus():!et&&K.current&&K.current.focus())},100)},1500)};if(!er)return(0,n.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-yellow-400 via-red-500 to-purple-600 dark:from-indigo-900 dark:via-purple-800 dark:to-pink-900 flex items-center justify-center p-4",children:(0,n.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl text-center ".concat(m?"p-6 max-w-sm":"p-8 max-w-md"),children:[(0,n.jsx)("div",{className:"".concat(d.R7.spin(b)," rounded-full h-16 w-16 border-b-2 border-purple-500 dark:border-purple-400 mx-auto")}),(0,n.jsx)("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading quiz..."})]})});let eo=(E+1)/v.length*100,el=(0,n.jsx)(g,{settings:w,currentQuestionIndex:E,questions:v,correctAnswersCount:T,incorrectAnswersCount:j,timeRemaining:y,overallTimeRemaining:C,animationClasses:d.R7,systemSettings:b,progress:eo});return(0,n.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-orange-400 via-pink-500 to-blue-500 dark:from-violet-900 dark:via-purple-800 dark:to-indigo-900",children:[m&&(0,n.jsx)("div",{className:"bg-white dark:bg-slate-800 shadow-lg p-4 sticky top-0 z-10",children:el}),(0,n.jsx)("div",{className:"flex items-center justify-center p-4 min-h-screen",children:(0,n.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl relative",children:[!m&&(0,n.jsx)("div",{className:"text-center mb-8",children:el}),(0,n.jsx)("div",{className:"text-center mb-8",children:(0,n.jsx)("div",{className:"text-5xl font-bold text-gray-800 dark:text-gray-200 mb-6 p-6 bg-gray-50 dark:bg-slate-800 rounded-xl ".concat(Z),children:er.variable?(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"text-xl text-purple-600 dark:text-purple-400 mb-2",children:["Solve for ",er.variable,":"]}),(0,n.jsx)("div",{children:er.question})]}):er.variables&&er.variables.length>0?(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"text-xl text-purple-600 dark:text-purple-400 mb-2",children:["Solve for ",er.variables.join(" and ")]}),(0,n.jsx)("div",{children:er.question})]}):"".concat(er.question," = ?")},ee)}),(0,n.jsx)("div",{className:"mb-8 ".concat($?"pointer-events-none select-none":""),children:"expression"===w.questionType?(0,n.jsx)("div",{children:et?(0,n.jsx)(f,{ref:X,value:z,onChange:L,placeholder:"Enter fraction (e.g., 3/4 or 1 2/3)",fullWidth:!0}):(0,n.jsx)("input",{ref:K,type:"number",value:F,onChange:e=>Y(e.target.value),onKeyDown:e=>{"Enter"===e.key&&!$&&(et?"expression"===w.questionType?z.trim().length>0:null!==_:en?"expression"===w.questionType?F.trim().length>0:null!==W:es?"expression"===w.questionType?F.trim().length>0:null!==J:"expression"===w.questionType?F.trim().length>0:null!==G)&&ei()},className:"w-full px-6 py-4 text-3xl text-center border-2 border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-gray-900 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-purple-500 dark:focus:ring-purple-400 focus:border-transparent",placeholder:er.variable?"Enter value for ".concat(er.variable):er.variables&&er.variables.length>0?"Enter value for ".concat(er.variables[0]):"Enter your answer",autoFocus:!0,inputMode:"numeric"})}):(0,n.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:et&&er.fractionOptions?er.fractionOptions.map((e,r)=>(0,n.jsx)(h.N,{title:"".concat(String.fromCharCode(65+r),". ").concat(e),isSelected:_===e,onClick:()=>U(e),compact:!0},r)):en&&er.currencyOptions?er.currencyOptions.map((e,r)=>(0,n.jsx)(h.N,{title:"".concat(String.fromCharCode(65+r),". ").concat(e),isSelected:W===e,onClick:()=>B(e),compact:!0},r)):es&&er.timeOptions?er.timeOptions.map((e,r)=>(0,n.jsx)(h.N,{title:"".concat(String.fromCharCode(65+r),". ").concat(e),isSelected:J===e,onClick:()=>V(e),compact:!0},r)):null==(e=er.options)?void 0:e.map((e,r)=>(0,n.jsx)(h.N,{title:"".concat(String.fromCharCode(65+r),". ").concat(e),isSelected:G===e,onClick:()=>H(e),compact:!0},r))})}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("button",{onClick:ei,disabled:et?"expression"===w.questionType?!z.trim():null===_:en?"expression"===w.questionType?!F.trim():null===W:es?"expression"===w.questionType?!F.trim():null===J:"expression"===w.questionType?!F.trim():null===G,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 dark:from-purple-600 dark:to-pink-600 text-white font-bold py-4 px-6 rounded-xl hover:from-purple-600 hover:to-pink-600 dark:hover:from-purple-700 dark:hover:to-pink-700 transition-all transform hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:E>=v.length-1?"\uD83C\uDFC1 Finish Quiz":"➡️ Next Question"}),!w.timerEnabled&&(!w.questionsEnabled||0===w.numberOfQuestions)&&(0,n.jsx)("button",{onClick:()=>R(),className:"w-full bg-gradient-to-r from-orange-500 to-red-500 dark:from-orange-600 dark:to-red-600 text-white font-bold py-4 px-6 rounded-xl hover:from-orange-600 hover:to-red-600 dark:hover:from-orange-700 dark:hover:to-red-700 transition-all transform hover:scale-105 shadow-lg",children:"\uD83C\uDFC1 Finish Quiz"})]}),w.challengeMode&&(0,n.jsx)("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 p-4 border-t border-purple-200 dark:border-purple-700 mt-8",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[(0,n.jsx)("span",{className:"text-purple-600 dark:text-purple-400 font-semibold text-sm",children:"\uD83C\uDFC6 Challenge:"}),(0,n.jsx)("span",{className:"font-bold text-purple-800 dark:text-purple-300 text-sm",children:w.challengeMode})]}),(0,n.jsxs)("p",{className:"text-xs text-purple-600 dark:text-purple-400 font-medium",children:["\uD83D\uDCCB ",null==(r=(0,p.HW)(w.challengeMode))?void 0:r.description]})]})})]})})]})}},7523:(e,r,t)=>{"use strict";t.d(r,{N:()=>s});var n=t(5155);t(2115);let s=e=>{let{title:r,subtitle:t,icon:s,isSelected:a=!1,onClick:i,disabled:o=!1,className:l="",compact:c=!1}=e;return(0,n.jsx)("button",{onClick:i,disabled:o,className:"\n        w-full ".concat(c?"min-h-[60px] p-4":"min-h-[80px] p-6"," rounded-xl border-2 transition-all duration-200 cursor-pointer\n        ").concat(a?"border-blue-500 dark:border-blue-400 bg-blue-50 dark:bg-blue-900/30 shadow-md":"border-gray-200 dark:border-slate-600 bg-white dark:bg-slate-800 hover:border-gray-300 dark:hover:border-slate-500 hover:bg-gray-50 dark:hover:bg-slate-700","\n        ").concat(o?"opacity-50 cursor-not-allowed":"active:scale-98 cursor-pointer hover:scale-102","\n        focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 shadow-sm\n        ").concat(l,"\n      "),children:(0,n.jsxs)("div",{className:"flex ".concat(c?"flex-row items-center justify-start space-x-3":"flex-col items-center justify-center space-y-2"),children:[s&&(0,n.jsx)("span",{className:"".concat(c?"text-xl":"text-2xl"),role:"img","aria-hidden":"true",children:s}),(0,n.jsxs)("div",{className:"".concat(c?"text-left":"text-center"),children:[(0,n.jsx)("span",{className:"font-semibold text-gray-800 dark:text-gray-200 ".concat(c?"text-base":"text-center"),children:r}),t&&!c&&(0,n.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400 text-center block mt-1",children:t})]})]})})}}},e=>{e.O(0,[494,584,441,964,358],()=>e(e.s=3557)),_N_E=e.O()}]);