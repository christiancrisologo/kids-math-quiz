(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{665:(e,r,t)=>{Promise.resolve().then(t.bind(t,3978))},2905:(e,r,t)=>{"use strict";t.d(r,{D:()=>i,ThemeProvider:()=>l});var s=t(5155),a=t(2115);let n=(0,a.createContext)(void 0);function l(e){let{children:r,defaultTheme:t="system"}=e,[l,i]=(0,a.useState)(t),[o,c]=(0,a.useState)("light"),[d,m]=(0,a.useState)(!1),u=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",b=e=>"system"===e?u():e,x=e=>{let r=window.document.documentElement;r.setAttribute("data-theme",e),"dark"===e?r.classList.add("dark"):r.classList.remove("dark");let t=document.querySelector('meta[name="theme-color"]');t&&t.setAttribute("content","dark"===e?"#0f172a":"#8B5CF6")};return(0,a.useEffect)(()=>{let e=(()=>{try{return localStorage.getItem("theme-preference")}catch(e){return null}})()||t,r=b(e);i(e),c(r),x(r),m(!0)},[t]),(0,a.useEffect)(()=>{let e=window.matchMedia("(prefers-color-scheme: dark)"),r=()=>{if("system"===l){let e=u();c(e),x(e)}};return e.addEventListener("change",r),()=>e.removeEventListener("change",r)},[l]),(0,s.jsx)(n.Provider,{value:{theme:l,resolvedTheme:o,setTheme:e=>{if(i(e),d)try{localStorage.setItem("theme-preference",e)}catch(e){console.warn("Failed to save theme preference:",e)}let r=b(e);c(r),x(r)}},children:r})}function i(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},3978:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>T});var s=t(5155),a=t(2115),n=t(5695),l=t(8258),i=t(8688),o=t(2745),c=t(4223),d=t(7523);let m=(0,a.forwardRef)((e,r)=>{let{type:t="text",placeholder:a,value:n,onChange:l,label:i,error:o,disabled:c=!1,fullWidth:d=!0,inputMode:m,className:u="",onKeyDown:b,onBlur:x,readOnly:h=!1}=e;return(0,s.jsxs)("div",{className:"".concat(d?"w-full":""," ").concat(u),children:[i&&(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i}),(0,s.jsx)("input",{ref:r,type:t,placeholder:a,value:n,onChange:e=>l(e.target.value),onKeyDown:b,onBlur:x,disabled:c,inputMode:m,readOnly:h,className:"\n          min-h-[56px] px-4 py-3 text-lg border-2 rounded-xl transition-all duration-200\n          ".concat(d?"w-full":"","\n          ").concat(o?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20 focus:border-red-500 dark:focus:border-red-400 focus:ring-red-500 dark:focus:ring-red-400":"border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800 focus:border-blue-500 dark:focus:border-blue-400 focus:ring-blue-500 dark:focus:ring-blue-400","\n          ").concat(c?"opacity-50 cursor-not-allowed bg-gray-50 dark:bg-slate-700":"","\n          focus:outline-none focus:ring-2 focus:ring-opacity-50\n          placeholder:text-gray-400 dark:placeholder:text-gray-500\n          text-gray-900 dark:text-gray-100\n        ")}),o&&(0,s.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",role:"alert",children:o})]})});function u(e){let{label:r,description:t,icon:a,enabled:n,onToggle:l,disabled:i=!1}=e;return(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg ".concat(i?"opacity-50":""),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-lg",children:a}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm",children:r}),t&&(0,s.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:t})]})]}),(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:n,onChange:e=>l(e.target.checked),disabled:i,className:"sr-only peer"}),(0,s.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})}m.displayName="MobileInput";var b=t(9137),x=t.n(b);function h(e){let{label:r,icon:t,enabled:n,min:l,max:i,minValue:o,maxValue:c,onEnabledChange:d,onValuesChange:m,disabled:u=!1,subtitle:b}=e,[h,g]=(0,a.useState)(o),[p,f]=(0,a.useState)(c);(0,a.useEffect)(()=>{g(o),f(c)},[o,c]);let y=u||!n;return(0,s.jsxs)("div",{className:"jsx-e874e417bb970f06 "+"bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-xl p-4 ".concat(u?"opacity-50":""),children:[(0,s.jsxs)("div",{className:"jsx-e874e417bb970f06 flex items-center justify-between mb-3",children:[(0,s.jsxs)("div",{className:"jsx-e874e417bb970f06 flex items-center gap-2",children:[(0,s.jsx)("span",{className:"jsx-e874e417bb970f06 text-lg",children:t}),(0,s.jsxs)("div",{className:"jsx-e874e417bb970f06",children:[(0,s.jsx)("h3",{className:"jsx-e874e417bb970f06 font-semibold text-gray-800 dark:text-gray-200 text-sm",children:r}),b&&(0,s.jsx)("p",{className:"jsx-e874e417bb970f06 text-xs text-gray-600 dark:text-gray-400 mt-1",children:b})]})]}),(0,s.jsxs)("label",{className:"jsx-e874e417bb970f06 relative inline-flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:n,onChange:e=>d(e.target.checked),disabled:u,className:"jsx-e874e417bb970f06 sr-only peer"}),(0,s.jsx)("div",{className:"jsx-e874e417bb970f06 w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),n&&!u&&(0,s.jsxs)("div",{className:"jsx-e874e417bb970f06 space-y-4",children:[(0,s.jsx)("div",{className:"jsx-e874e417bb970f06",children:(0,s.jsxs)("div",{className:"jsx-e874e417bb970f06 flex items-center gap-3 mb-2",children:[(0,s.jsx)("span",{className:"jsx-e874e417bb970f06 text-base font-medium text-gray-700 dark:text-gray-300 min-w-[3rem]",children:h}),(0,s.jsxs)("div",{className:"jsx-e874e417bb970f06 flex-1",children:[(0,s.jsx)("label",{className:"jsx-e874e417bb970f06 text-xs font-medium text-gray-700 dark:text-gray-300",children:"Minimum"}),(0,s.jsx)("input",{type:"range",min:l,max:i,value:h,onChange:e=>(e=>{let r=Math.min(e,p);g(r),m(r,p)})(parseInt(e.target.value)),disabled:y,className:"jsx-e874e417bb970f06 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700 slider-thumb"})]})]})}),(0,s.jsx)("div",{className:"jsx-e874e417bb970f06",children:(0,s.jsxs)("div",{className:"jsx-e874e417bb970f06 flex items-center gap-3 mb-2",children:[(0,s.jsx)("span",{className:"jsx-e874e417bb970f06 text-base font-medium text-gray-700 dark:text-gray-300 min-w-[3rem]",children:p}),(0,s.jsxs)("div",{className:"jsx-e874e417bb970f06 flex-1",children:[(0,s.jsx)("label",{className:"jsx-e874e417bb970f06 text-xs font-medium text-gray-700 dark:text-gray-300",children:"Maximum"}),(0,s.jsx)("input",{type:"range",min:l,max:i,value:p,onChange:e=>(e=>{let r=Math.max(e,h);f(r),m(h,r)})(parseInt(e.target.value)),disabled:y,className:"jsx-e874e417bb970f06 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700 slider-thumb"})]})]})})]}),(u||!n)&&(0,s.jsx)("div",{className:"jsx-e874e417bb970f06 text-center py-4",children:(0,s.jsx)("span",{className:"jsx-e874e417bb970f06 text-sm text-gray-500 dark:text-gray-400",children:u?"Disabled when questions limit is off":"Toggle to enable"})}),(0,s.jsx)(x(),{id:"e874e417bb970f06",children:".slider-thumb.jsx-e874e417bb970f06::-webkit-slider-thumb{appearance:none;height:20px;width:20px;border-radius:50%;background:#3b82f6;cursor:pointer;box-shadow:0 1px 3px rgba(0,0,0,.1)}.slider-thumb.jsx-e874e417bb970f06::-moz-range-thumb{height:20px;width:20px;border-radius:50%;background:#3b82f6;cursor:pointer;border:none;box-shadow:0 1px 3px rgba(0,0,0,.1)}.slider-thumb.jsx-e874e417bb970f06:focus::-webkit-slider-thumb{box-shadow:0 0 0 3px rgba(59,130,246,.3)}.slider-thumb.jsx-e874e417bb970f06:focus::-moz-range-thumb{box-shadow:0 0 0 3px rgba(59,130,246,.3)}"})]})}var g=t(2325),p=t(2905);let f=e=>{let{setting:r,icon:t,title:a,className:n=""}=e,{settings:l,updateSetting:i}=(0,g.e)(),o=l[r],{title:c,subtitle:m}=(()=>{switch(r){case"animations":return{title:o?"Animations ON":"Animations OFF",subtitle:o?"Tap to turn off":"Tap to turn on"};case"sounds":return{title:o?"Sounds ON":"Sounds OFF",subtitle:o?"Tap to turn off":"Tap to turn on"};default:return{title:"".concat(a," ").concat(o?"ON":"OFF"),subtitle:o?"Tap to turn off":"Tap to turn on"}}})();return(0,s.jsx)(d.N,{title:"".concat(t," ").concat(c),subtitle:m,isSelected:o,onClick:()=>i(r,!o),className:n})},y=e=>{let{className:r=""}=e,{theme:t,setTheme:a}=(0,p.D)(),n=[{value:"light",label:"Light theme",icon:"☀️"},{value:"dark",label:"Dark theme",icon:"\uD83C\uDF19"},{value:"system",label:"System theme",icon:"\uD83D\uDCBB"}],l=n.find(e=>e.value===t);return(0,s.jsx)(d.N,{title:"".concat(null==l?void 0:l.icon," ").concat(null==l?void 0:l.label),subtitle:"Tap to cycle themes",isSelected:!1,onClick:()=>{let e=(n.findIndex(e=>e.value===t)+1)%n.length;a(n[e].value)},className:r})},v=e=>{let{isMobile:r=!1,className:t=""}=e;return(0,s.jsxs)("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 dark:from-slate-900/20 dark:to-gray-900/20 rounded-xl p-3 ".concat(t),children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-3 flex items-center text-sm",children:"⚙️ System Settings"}),(0,s.jsxs)("div",{className:"grid gap-2 ".concat(r?"grid-cols-1":"grid-cols-3"),children:[(0,s.jsx)(y,{}),(0,s.jsx)(f,{setting:"animations",title:"Animations",icon:"✨"}),(0,s.jsx)(f,{setting:"sounds",title:"Sounds",icon:"\uD83D\uDD0A"})]}),(0,s.jsx)("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 text-center",children:"\uD83D\uDCA1 Settings are saved automatically and persist across sessions"})]})};var j=t(987);let k={primary:{label:"\uD83C\uDF92 Primary School",difficulty:"easy",numberOfQuestions:5,timerPerQuestion:12,questionType:["multiple-choice"],mathOperations:["addition","subtraction","multiplication","division"],numberTypes:["integers"],description:"Basic math for young learners",timerEnabled:!0,questionsEnabled:!0,minCorrectAnswers:0,maxCorrectAnswers:5,correctAnswersEnabled:!1,minIncorrectAnswers:0,maxIncorrectAnswers:3,incorrectAnswersEnabled:!1,overallTimerEnabled:!1,overallTimerDuration:180},"junior-high":{label:"\uD83D\uDCDA Junior High School",difficulty:"easy",numberOfQuestions:10,timerPerQuestion:10,questionType:["expression","multiple-choice"],mathOperations:["addition","subtraction","multiplication","division","algebraic"],numberTypes:["integers","decimals","fractions","currency","time"],description:"Intermediate math concepts",timerEnabled:!0,questionsEnabled:!0,minCorrectAnswers:0,maxCorrectAnswers:10,correctAnswersEnabled:!1,minIncorrectAnswers:0,maxIncorrectAnswers:5,incorrectAnswersEnabled:!1,overallTimerEnabled:!1,overallTimerDuration:600},"senior-high":{label:"\uD83C\uDF93 Senior High School",difficulty:"hard",numberOfQuestions:15,timerPerQuestion:8,questionType:["expression","multiple-choice"],mathOperations:["addition","subtraction","multiplication","division","algebraic"],numberTypes:["integers","decimals","fractions","currency","time"],description:"Advanced math challenges",timerEnabled:!0,questionsEnabled:!0,minCorrectAnswers:0,maxCorrectAnswers:15,correctAnswersEnabled:!1,minIncorrectAnswers:0,maxIncorrectAnswers:8,incorrectAnswersEnabled:!1,overallTimerEnabled:!0,overallTimerDuration:900}};var N=t(560);let w={username:"",difficulty:"easy",numberOfQuestions:5,timerPerQuestion:10,questionType:"expression",mathOperations:["addition"],numberTypes:["integers"],timerEnabled:!0,questionsEnabled:!0,minCorrectAnswers:0,maxCorrectAnswers:5,correctAnswersEnabled:!1,minIncorrectAnswers:0,maxIncorrectAnswers:5,incorrectAnswersEnabled:!1,overallTimerEnabled:!1,overallTimerDuration:180,challengeMode:void 0};function A(e,r){return e.includes(r)?1===e.length?e:e.filter(e=>e!==r):[...e,r]}function C(e,r,t,s){s(s=>({...s,["min".concat(t.charAt(0).toUpperCase()+t.slice(1))]:e,["max".concat(t.charAt(0).toUpperCase()+t.slice(1))]:r}))}function T(){var e;let r=(0,n.useRouter)(),{updateSettings:t,setQuestions:b,saveUserPreferences:x,resetQuiz:p}=(0,l.e)(),f=(0,o.al)(),{settings:y}=(0,g.e)(),[T,D]=(0,a.useState)(!1),[E,S]=(0,a.useState)(!1),[O,q]=(0,a.useState)({username:"",difficulty:"easy",numberOfQuestions:20,timerPerQuestion:60,questionType:"expression",mathOperations:["addition"],numberTypes:["integers"],timerEnabled:!0,questionsEnabled:!0,minCorrectAnswers:0,maxCorrectAnswers:5,correctAnswersEnabled:!1,minIncorrectAnswers:0,maxIncorrectAnswers:5,incorrectAnswersEnabled:!1,overallTimerEnabled:!1,overallTimerDuration:180,challengeMode:void 0}),[I,M]=(0,a.useState)("primary"),[Q,z]=(0,a.useState)(""),[_]=(0,a.useState)((0,N.GS)()),[P,F]=(0,a.useState)({}),[L,B]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(E){let e=setTimeout(()=>S(!1),5e3);return()=>clearTimeout(e)}},[E]),(0,a.useEffect)(()=>{{let e=localStorage.getItem("math_quiz_user");D(!!e);let r=!1;if(e)try{let t=JSON.parse(e);t.userName&&""!==t.userName.trim()&&(r=!0)}catch(e){}S(r)}},[O.username]),(0,a.useEffect)(()=>{console.log("localStorage check:",{math_quiz_user:localStorage.getItem("math_quiz_user"),gameHistory:localStorage.getItem("gameHistory")})},[]),(0,a.useEffect)(()=>{if(!O.username){let e=localStorage.getItem("math_quiz_user");if(e)try{let r=JSON.parse(e);r.userName&&q(e=>({...e,username:r.userName}))}catch(e){}}},[O.username]);let H=(e,r)=>{q(t=>{let s={...t,[e]:r};return"numberOfQuestions"===e&&"number"==typeof r&&(s.maxCorrectAnswers=Math.min(s.maxCorrectAnswers,r),s.maxIncorrectAnswers=Math.min(s.maxIncorrectAnswers,r),s.minCorrectAnswers=Math.min(s.minCorrectAnswers,r),s.minIncorrectAnswers=Math.min(s.minIncorrectAnswers,r)),s}),P[e]&&F(r=>({...r,[e]:""}))},[J,R]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{{let e=localStorage.getItem("math_quiz_user"),r="";if(e)try{r=JSON.parse(e).userId||""}catch(e){}let t=localStorage.getItem("mathquiz_game_history"),s=!1;if(t&&r)try{let e=JSON.parse(t);s=Array.isArray(e)&&e.some(e=>e.userId===r)}catch(e){}R(s)}},[O.username]),(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-pink-400 via-purple-500 to-cyan-400 dark:from-purple-900 dark:via-blue-900 dark:to-pink-900",children:[E&&(0,s.jsx)("div",{className:"fixed top-0 left-0 w-full z-50 flex justify-center",children:(0,s.jsxs)("div",{className:"bg-green-100 text-green-800 px-6 py-2 rounded-b-xl shadow-lg font-semibold text-lg",children:["Welcome back, ",O.username,"!"]})}),(0,s.jsx)("div",{className:"flex items-center justify-center ".concat(f?"p-4 pt-8":"p-4"," min-h-screen"),children:(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-  rounded-xl shadow-2xl w-full ".concat(f?"max-w-md mx-auto":"max-w-2xl"," ").concat(f?"p-4":"p-6"," relative ").concat(j.R7.float(y)),children:[(0,s.jsx)("div",{className:"text-center mb-6",children:(0,s.jsx)("h1",{className:"font-bold text-gray-800 dark:text-gray-200 mb-3 ".concat(f?"text-2xl":"text-5xl"),children:"Math Quiz for Kids"})}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("div",{className:"flex gap-2 w-full items-center",children:[(0,s.jsx)("div",{className:"flex-1 h-full flex items-center",children:(0,s.jsx)(m,{label:"Your Name",placeholder:"Enter your name",value:O.username,onChange:e=>H("username",e),error:P.username,readOnly:T&&!!O.username})}),T&&O.username&&(0,s.jsx)(c.T,{size:"sm",variant:"ghost",onClick:()=>{localStorage.clear(),q({...w,challengeMode:void 0}),M("primary"),z(""),F({}),p()},className:"mt-6 ml-2 whitespace-nowrap bg-ye hover:bg-amber-400 text-gray-900 border border-yellow-400 flex items-center justify-center h-[56px]",icon:(0,s.jsx)("span",{role:"img","aria-label":"reset",children:"\uD83D\uDD04"}),children:"Reset"})]}),T&&O.username&&(0,s.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:"Reset the game to change user"})]}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-xl p-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-3 flex items-center text-sm",children:"\uD83C\uDFAF Select Your Year Level"}),(0,s.jsx)("div",{className:"grid gap-2 ".concat(f?"grid-cols-1":"grid-cols-3"),children:Object.entries(k).map(e=>{let[r,t]=e;return(0,s.jsx)(d.N,{title:t.label,subtitle:t.description,isSelected:I===r,onClick:()=>(e=>{M(e);let r=(e=>{let r=k[e];return{difficulty:r.difficulty,numberOfQuestions:r.numberOfQuestions,timerPerQuestion:r.timerPerQuestion,questionType:r.questionType[0],mathOperations:r.mathOperations,numberTypes:r.numberTypes,timerEnabled:r.timerEnabled,questionsEnabled:r.questionsEnabled,minCorrectAnswers:r.minCorrectAnswers,maxCorrectAnswers:r.maxCorrectAnswers,correctAnswersEnabled:r.correctAnswersEnabled,minIncorrectAnswers:r.minIncorrectAnswers,maxIncorrectAnswers:r.maxIncorrectAnswers,incorrectAnswersEnabled:r.incorrectAnswersEnabled,overallTimerEnabled:r.overallTimerEnabled,overallTimerDuration:r.overallTimerDuration}})(e);q(e=>({...e,...r,maxCorrectAnswers:r.numberOfQuestions,maxIncorrectAnswers:r.numberOfQuestions})),F({}),B(!0)})(r)},r)})}),I&&(0,s.jsx)("div",{className:"mt-3 p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:(0,s.jsxs)("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:["✨ Settings automatically applied for ",k[I].label,"!"]})})]})}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 rounded-xl p-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-3 flex items-center text-sm",children:"\uD83C\uDFC6 Challenge Mode"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("select",{value:Q,onChange:e=>(e=>{if(z(e),""===e)q(e=>({...e,challengeMode:void 0}));else{let r=(0,N.Fj)(O,e);q(e=>({...e,...r})),B(!0)}F({})})(e.target.value),className:"w-full p-3 pr-10 border-2 border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-slate-700 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500 dark:focus:ring-purple-400 focus:border-purple-500 dark:focus:border-purple-400 transition-all duration-200 appearance-none cursor-pointer",children:[(0,s.jsx)("option",{value:"",children:"Select a challenge (optional)"}),_.map(e=>(0,s.jsx)("option",{value:e.name,children:e.name},e.name))]}),(0,s.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),Q&&(0,s.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/30 dark:to-cyan-900/30 rounded-lg p-3",children:[(0,s.jsx)("h4",{className:"font-medium text-blue-800 dark:text-blue-300 text-sm mb-1",children:Q}),(0,s.jsx)("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:null==(e=_.find(e=>e.name===Q))?void 0:e.description})]})]})]})}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("button",{onClick:()=>B(!L),className:"w-full py-3 px-5 rounded-xl font-semibold text-base transition-all duration-200 flex items-center justify-center space-x-2 cursor-pointer ".concat(L?"bg-gradient-to-r from-cyan-400 to-blue-500 text-white shadow-lg transform scale-105":"bg-gradient-to-r from-cyan-500 to-blue-600 text-white shadow-md hover:shadow-lg hover:transform hover:scale-105"),children:[(0,s.jsx)("span",{className:"text-xl",children:"⚙️"}),(0,s.jsx)("span",{children:L?"Hide Quiz Settings":"Quiz Settings"})]})}),L&&(0,s.jsxs)("div",{className:"space-y-3 ".concat(j.R7.float(y)," mb-4"),children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 dark:from-red-900/20 dark:to-pink-900/20 rounded-xl p-3",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2 flex items-center text-sm",children:"\uD83C\uDF9A️ Difficulty Level"}),(0,s.jsx)("div",{className:"grid gap-2 ".concat(f?"grid-cols-1":"grid-cols-2"),children:["easy","hard"].map(e=>(0,s.jsx)(d.N,{title:"easy"===e?"\uD83D\uDFE2 Easy":"\uD83D\uDD34 Hard",subtitle:"easy"===e?"Basic problems":"Challenging problems",isSelected:O.difficulty===e,onClick:()=>H("difficulty",e)},e))}),I&&(0,s.jsxs)("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:["\uD83D\uDCA1 Recommended for ",k[I].label,": ",O.difficulty]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 rounded-xl p-3",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-3 flex items-center text-sm",children:"\uD83C\uDFAE Game Mechanics"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-yellow-50 dark:from-green-900/20 dark:to-yellow-900/20 rounded-xl p-3",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-3 flex items-center text-sm",children:"⏰ Timer Settings"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h5",{className:"font-medium text-gray-700 dark:text-gray-300 text-sm",children:"\uD83D\uDCCA Number of Questions"}),(0,s.jsx)(u,{label:"",icon:"",enabled:O.questionsEnabled,onToggle:e=>H("questionsEnabled",e)})]}),O.questionsEnabled&&(0,s.jsx)(m,{type:"number",label:"",placeholder:"Minimum 5",value:O.numberOfQuestions,onChange:e=>H("numberOfQuestions",e),error:P.numberOfQuestions,inputMode:"numeric"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h5",{className:"font-medium text-gray-700 dark:text-gray-300 text-sm",children:"⏱️ Timer per Question"}),(0,s.jsx)(u,{label:"",icon:"",enabled:O.timerEnabled,onToggle:e=>H("timerEnabled",e)})]}),O.timerEnabled&&(0,s.jsx)(m,{type:"number",label:"",placeholder:"Minimum 5 seconds",value:O.timerPerQuestion,onChange:e=>H("timerPerQuestion",e),error:P.timerPerQuestion,inputMode:"numeric"})]}),(0,s.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h5",{className:"font-medium text-gray-700 dark:text-gray-300 text-sm",children:"\uD83D\uDD50 Overall Game Timer"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Set a time limit for the entire quiz"})]}),(0,s.jsx)(u,{label:"",icon:"",enabled:O.overallTimerEnabled,onToggle:e=>H("overallTimerEnabled",e)})]}),O.overallTimerEnabled&&(0,s.jsx)("div",{className:"space-y-3",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1 block",children:"Duration (minutes)"}),(0,s.jsx)(m,{type:"number",label:"",placeholder:"Duration in minutes",value:Math.round(O.overallTimerDuration/60),onChange:e=>H("overallTimerDuration",e?60*parseInt(e):0),inputMode:"numeric"})]})})]})]}),I&&(0,s.jsxs)("div",{className:"mt-3 text-xs text-gray-600 dark:text-gray-400 bg-blue-50 dark:bg-blue-900/20 rounded p-2",children:["\uD83D\uDCA1 ",k[I].label," settings: ",k[I].numberOfQuestions," questions, ",k[I].timerPerQuestion,"s per question",k[I].overallTimerEnabled&&(0,s.jsxs)("span",{children:[", Overall timer: ",Math.round(k[I].overallTimerDuration/60),"min"]})]})]}),(0,s.jsx)(h,{label:"Correct Answers Goal",icon:"✅",subtitle:"End quiz when reaching this range of correct answers",enabled:O.correctAnswersEnabled,min:0,max:O.questionsEnabled?O.numberOfQuestions:20,minValue:O.minCorrectAnswers,maxValue:O.maxCorrectAnswers,onEnabledChange:e=>H("correctAnswersEnabled",e),onValuesChange:(e,r)=>{C(e,r,"correctAnswers",q)},disabled:!O.questionsEnabled}),(0,s.jsx)(h,{label:"Incorrect Answers Limit",icon:"❌",subtitle:"End quiz when reaching this range of incorrect answers",enabled:O.incorrectAnswersEnabled,min:0,max:O.questionsEnabled?O.numberOfQuestions:20,minValue:O.minIncorrectAnswers,maxValue:O.maxIncorrectAnswers,onEnabledChange:e=>H("incorrectAnswersEnabled",e),onValuesChange:(e,r)=>{C(e,r,"incorrectAnswers",q)},disabled:!O.questionsEnabled})]})]}),"              ",(0,s.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl p-3",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2 flex items-center text-sm",children:"\uD83C\uDFAF Question Type"}),(0,s.jsx)("div",{className:"grid gap-2 ".concat(f?"grid-cols-1":"grid-cols-2"),children:[{value:"expression",label:"\uD83D\uDCDD Math Expression",subtitle:"e.g., 4 + 3 = ?"},{value:"multiple-choice",label:"\uD83C\uDFAF Multiple Choice",subtitle:"3 options"}].map(e=>(0,s.jsx)(d.N,{title:e.label,subtitle:e.subtitle,isSelected:O.questionType===e.value,onClick:()=>H("questionType",e.value)},e.value))}),I&&(0,s.jsxs)("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:["\uD83D\uDCA1 Your year level supports: ",k[I].questionType.map(e=>"expression"===e?"Math Expression":"Multiple Choice").join(", ")]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-3",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2 flex items-center text-sm",children:"\uD83D\uDD22 Number Types (Select Multiple)"}),(0,s.jsx)("div",{className:"grid gap-2 ".concat(f?"grid-cols-1":"grid-cols-3"),children:[{value:"integers",label:"\uD83D\uDD22 Integers",subtitle:"Whole numbers (1, 2, 3...)"},{value:"decimals",label:"\uD83D\uDD38 Decimals",subtitle:"Decimal numbers (1.5, 2.25...)"},{value:"fractions",label:"\uD83E\uDDEE Fractions",subtitle:"Fraction numbers (1/2, 3/4...)"},{value:"currency",label:"\uD83D\uDCB0 Currency",subtitle:"Money calculations ($1.50, $2.25...)"},{value:"time",label:"⏰ Time",subtitle:"Time calculations (1:30, 2:45...)"}].map(e=>(0,s.jsx)(d.N,{title:e.label,subtitle:e.subtitle,isSelected:O.numberTypes.includes(e.value),onClick:()=>{var r;return r=e.value,void(q(e=>({...e,numberTypes:A(e.numberTypes,r)})),P.numberTypes&&F(e=>({...e,numberTypes:""})))}},e.value))}),O.numberTypes.length>0&&(0,s.jsxs)("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:["Selected: ",O.numberTypes.map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(", ")]}),I&&(0,s.jsxs)("div",{className:"mt-2 text-xs text-blue-600 dark:text-blue-400",children:["\uD83D\uDCA1 ",k[I].label," includes: ",k[I].numberTypes.map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(", ")]}),P.numberTypes&&(0,s.jsx)("div",{className:"mt-2 text-xs text-red-600 dark:text-red-400",children:P.numberTypes})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-xl p-3",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2 flex items-center text-sm",children:"\uD83D\uDD22 Math Operations (Select Multiple)"}),(0,s.jsx)("div",{className:"grid gap-2 ".concat(f?"grid-cols-1":"grid-cols-3"),children:[{value:"addition",label:"➕ Addition",subtitle:"Basic addition"},{value:"subtraction",label:"➖ Subtraction",subtitle:"Basic subtraction"},{value:"multiplication",label:"✖️ Multiplication",subtitle:"Times tables"},{value:"division",label:"➗ Division",subtitle:"Division problems"},{value:"algebraic",label:"\uD83D\uDD22 Algebraic",subtitle:"Solve for x"},{value:"binomial",label:"\uD83D\uDD2C Binomial",subtitle:"Complex expressions"}].map(e=>(0,s.jsx)(d.N,{title:e.label,subtitle:e.subtitle,isSelected:O.mathOperations.includes(e.value),onClick:()=>{var r;return r=e.value,void(q(e=>({...e,mathOperations:A(e.mathOperations,r)})),P.mathOperations&&F(e=>({...e,mathOperations:""})))}},e.value))}),O.mathOperations.length>0&&(0,s.jsxs)("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:["Selected: ",O.mathOperations.map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(", ")]}),I&&(0,s.jsxs)("div",{className:"mt-2 text-xs text-blue-600 dark:text-blue-400",children:["\uD83D\uDCA1 ",k[I].label," includes: ",k[I].mathOperations.map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(", ")]}),P.mathOperations&&(0,s.jsx)("div",{className:"mt-2 text-xs text-red-600 dark:text-red-400",children:P.mathOperations})]}),(0,s.jsx)(v,{isMobile:f})]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(c.T,{variant:"primary",size:"lg",fullWidth:!0,onClick:()=>{if((()=>{let e={};return O.username.trim()||(e.username="Please enter your name"),O.numberOfQuestions<5&&(e.numberOfQuestions="Minimum 5 questions required"),O.timerPerQuestion<5&&(e.timerPerQuestion="Minimum 5 seconds required"),0===O.mathOperations.length&&(e.mathOperations="Please select at least one math operation"),0===O.numberTypes.length&&(e.numberTypes="Please select at least one number type"),F(e),0===Object.keys(e).length})()){{let e="",r=localStorage.getItem("math_quiz_user");if(r)try{e=JSON.parse(r).userId||""}catch(e){}localStorage.setItem("math_quiz_user",JSON.stringify({userId:e,userName:O.username}))}p(),t(O),x(),b((0,i.L)(O.numberOfQuestions,O.difficulty,O.mathOperations,O.questionType,O.numberTypes)),r.push("/quiz")}},icon:"\uD83D\uDE80",disabled:!O.username.trim()||Object.keys(P).length>0||0===O.mathOperations.length||0===O.numberTypes.length,children:"Start Quiz!"})}),J&&(0,s.jsx)("div",{className:"mt-3",children:(0,s.jsx)(c.T,{variant:"secondary",size:"lg",fullWidth:!0,onClick:()=>r.push("/history"),icon:"\uD83D\uDCCA",children:"View History"})})]})})]})}}},e=>{e.O(0,[494,584,131,660,441,964,358],()=>e(e.s=665)),_N_E=e.O()}]);