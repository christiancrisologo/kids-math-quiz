(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{665:(e,t,r)=>{Promise.resolve().then(r.bind(r,6916))},2905:(e,t,r)=>{"use strict";r.d(t,{D:()=>n,ThemeProvider:()=>l});var s=r(5155),a=r(2115);let i=(0,a.createContext)(void 0);function l(e){let{children:t,defaultTheme:r="system"}=e,[l,n]=(0,a.useState)(r),[o,c]=(0,a.useState)("light"),[u,d]=(0,a.useState)(!1),m=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",b=e=>"system"===e?m():e,x=e=>{let t=window.document.documentElement;t.setAttribute("data-theme",e),"dark"===e?t.classList.add("dark"):t.classList.remove("dark");let r=document.querySelector('meta[name="theme-color"]');r&&r.setAttribute("content","dark"===e?"#0f172a":"#8B5CF6")};return(0,a.useEffect)(()=>{let e=(()=>{try{return localStorage.getItem("theme-preference")}catch(e){return null}})()||r,t=b(e);n(e),c(t),x(t),d(!0)},[r]),(0,a.useEffect)(()=>{let e=window.matchMedia("(prefers-color-scheme: dark)"),t=()=>{if("system"===l){let e=m();c(e),x(e)}};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[l]),(0,s.jsx)(i.Provider,{value:{theme:l,resolvedTheme:o,setTheme:e=>{if(n(e),u)try{localStorage.setItem("theme-preference",e)}catch(e){console.warn("Failed to save theme preference:",e)}let t=b(e);c(t),x(t)}},children:t})}function n(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},6121:(e,t,r)=>{"use strict";r.d(t,{X:()=>a});var s=r(5155);let a=(0,r(2115).forwardRef)((e,t)=>{let{type:r="text",placeholder:a,value:i,onChange:l,label:n,error:o,disabled:c=!1,fullWidth:u=!0,inputMode:d,className:m="",onKeyDown:b}=e;return(0,s.jsxs)("div",{className:"".concat(u?"w-full":""," ").concat(m),children:[n&&(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n}),(0,s.jsx)("input",{ref:t,type:r,placeholder:a,value:i,onChange:e=>l(e.target.value),onKeyDown:b,disabled:c,inputMode:d,className:"\n          min-h-[56px] px-4 py-3 text-lg border-2 rounded-xl transition-all duration-200\n          ".concat(u?"w-full":"","\n          ").concat(o?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20 focus:border-red-500 dark:focus:border-red-400 focus:ring-red-500 dark:focus:ring-red-400":"border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800 focus:border-blue-500 dark:focus:border-blue-400 focus:ring-blue-500 dark:focus:ring-blue-400","\n          ").concat(c?"opacity-50 cursor-not-allowed bg-gray-50 dark:bg-slate-700":"","\n          focus:outline-none focus:ring-2 focus:ring-opacity-50\n          placeholder:text-gray-400 dark:placeholder:text-gray-500\n          text-gray-900 dark:text-gray-100\n        ")}),o&&(0,s.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",role:"alert",children:o})]})});a.displayName="MobileInput"},6916:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var s=r(5155),a=r(2115),i=r(5695),l=r(6066),n=r(8688),o=r(2745),c=r(4223),u=r(7523),d=r(6121),m=r(2325),b=r(2905);let x=e=>{let{setting:t,icon:r,title:a,className:i=""}=e,{settings:l,updateSetting:n}=(0,m.e)(),o=l[t],{title:c,subtitle:d}=(()=>{switch(t){case"animations":return{title:o?"Animations ON":"Animations OFF",subtitle:o?"Tap to turn off":"Tap to turn on"};case"sounds":return{title:o?"Sounds ON":"Sounds OFF",subtitle:o?"Tap to turn off":"Tap to turn on"};default:return{title:"".concat(a," ").concat(o?"ON":"OFF"),subtitle:o?"Tap to turn off":"Tap to turn on"}}})();return(0,s.jsx)(u.N,{title:"".concat(r," ").concat(c),subtitle:d,isSelected:o,onClick:()=>n(t,!o),className:i})},p=e=>{let{className:t=""}=e,{theme:r,setTheme:a}=(0,b.D)(),i=[{value:"light",label:"Light theme",icon:"☀️"},{value:"dark",label:"Dark theme",icon:"\uD83C\uDF19"},{value:"system",label:"System theme",icon:"\uD83D\uDCBB"}],l=i.find(e=>e.value===r);return(0,s.jsx)(u.N,{title:"".concat(null==l?void 0:l.icon," ").concat(null==l?void 0:l.label),subtitle:"Tap to cycle themes",isSelected:!1,onClick:()=>{let e=(i.findIndex(e=>e.value===r)+1)%i.length;a(i[e].value)},className:t})},h=e=>{let{isMobile:t=!1,className:r=""}=e;return(0,s.jsxs)("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 dark:from-slate-900/20 dark:to-gray-900/20 rounded-xl p-3 ".concat(r),children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-3 flex items-center text-sm",children:"⚙️ System Settings"}),(0,s.jsxs)("div",{className:"grid gap-2 ".concat(t?"grid-cols-1":"grid-cols-3"),children:[(0,s.jsx)(p,{}),(0,s.jsx)(x,{setting:"animations",title:"Animations",icon:"✨"}),(0,s.jsx)(x,{setting:"sounds",title:"Sounds",icon:"\uD83D\uDD0A"})]}),(0,s.jsx)("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 text-center",children:"\uD83D\uDCA1 Settings are saved automatically and persist across sessions"})]})};var g=r(987);let f={primary:{label:"\uD83C\uDF92 Primary School",difficulty:"easy",numberOfQuestions:5,timerPerQuestion:12,questionType:["multiple-choice"],mathOperations:["addition","subtraction","multiplication","division"],numberTypes:["integers"],description:"Basic math for young learners"},"junior-high":{label:"\uD83D\uDCDA Junior High School",difficulty:"easy",numberOfQuestions:10,timerPerQuestion:10,questionType:["expression","multiple-choice"],mathOperations:["addition","subtraction","multiplication","division","algebraic"],numberTypes:["integers","decimals","fractions","currency","time"],description:"Intermediate math concepts"},"senior-high":{label:"\uD83C\uDF93 Senior High School",difficulty:"hard",numberOfQuestions:15,timerPerQuestion:8,questionType:["expression","multiple-choice"],mathOperations:["addition","subtraction","multiplication","division","algebraic"],numberTypes:["integers","decimals","fractions","currency","time"],description:"Advanced math challenges"}},y=e=>{let t=f[e];return{difficulty:t.difficulty,numberOfQuestions:t.numberOfQuestions,timerPerQuestion:t.timerPerQuestion,questionType:t.questionType[0],mathOperations:t.mathOperations,numberTypes:t.numberTypes}};function v(){let e=(0,i.useRouter)(),{updateSettings:t,setQuestions:r,settings:b,loadUserPreferences:x,saveUserPreferences:p}=(0,l.e)(),v=(0,o.al)(),{settings:k}=(0,m.e)(),[j,N]=(0,a.useState)({username:"",difficulty:"easy",numberOfQuestions:5,timerPerQuestion:10,questionType:"expression",mathOperations:["addition"],numberTypes:["integers"]}),[T,D]=(0,a.useState)("primary"),[O,S]=(0,a.useState)({}),[C,w]=(0,a.useState)(!1);(0,a.useEffect)(()=>{x(),console.log("localStorage check:",{userPreferences:localStorage.getItem("userPreferences"),gameHistory:localStorage.getItem("gameHistory")})},[x]),(0,a.useEffect)(()=>{let e=b.username&&""!==b.username.trim();if(console.log("Loading preferences:",{settings:b,hasSavedSettings:e}),e)console.log("Using saved settings from localStorage"),N(e=>{var t,r;return{...e,username:b.username||e.username,difficulty:b.difficulty||e.difficulty,numberOfQuestions:b.numberOfQuestions||e.numberOfQuestions,timerPerQuestion:b.timerPerQuestion||e.timerPerQuestion,questionType:b.questionType||e.questionType,mathOperations:(null==(t=b.mathOperations)?void 0:t.length)?b.mathOperations:e.mathOperations,numberTypes:(null==(r=b.numberTypes)?void 0:r.length)?b.numberTypes:e.numberTypes}});else{console.log("No saved settings found, applying primary school preset");let e=y("primary");N(t=>({...t,...e}))}},[b]);let Q=(e,t)=>{N(r=>({...r,[e]:t})),O[e]&&S(t=>({...t,[e]:""}))};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-pink-400 via-purple-500 to-cyan-400 dark:from-purple-900 dark:via-blue-900 dark:to-pink-900",children:(0,s.jsx)("div",{className:"flex items-center justify-center ".concat(v?"p-4 pt-8":"p-4"," min-h-screen"),children:(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full ".concat(v?"max-w-md mx-auto":"max-w-2xl"," ").concat(v?"p-4":"p-6"," relative ").concat(g.R7.float(k)),children:[(0,s.jsx)("div",{className:"text-center mb-6",children:(0,s.jsx)("h1",{className:"font-bold text-gray-800 dark:text-gray-200 mb-3 ".concat(v?"text-2xl":"text-5xl"),children:"Math Quiz for Kids"})}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)(d.X,{label:"Your Name",placeholder:"Enter your name",value:j.username,onChange:e=>Q("username",e),error:O.username})}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-xl p-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-3 flex items-center text-sm",children:"\uD83C\uDFAF Select Your Year Level"}),(0,s.jsx)("div",{className:"grid gap-2 ".concat(v?"grid-cols-1":"grid-cols-3"),children:Object.entries(f).map(e=>{let[t,r]=e;return(0,s.jsx)(u.N,{title:r.label,subtitle:r.description,isSelected:T===t,onClick:()=>(e=>{D(e);let t=y(e);N(e=>({...e,...t})),S({}),w(!0)})(t)},t)})}),T&&(0,s.jsx)("div",{className:"mt-3 p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:(0,s.jsxs)("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:["✨ Settings automatically applied for ",f[T].label,"!"]})})]})}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("button",{onClick:()=>w(!C),className:"w-full py-3 px-5 rounded-xl font-semibold text-base transition-all duration-200 flex items-center justify-center space-x-2 cursor-pointer ".concat(C?"bg-gradient-to-r from-cyan-400 to-blue-500 text-white shadow-lg transform scale-105":"bg-gradient-to-r from-cyan-500 to-blue-600 text-white shadow-md hover:shadow-lg hover:transform hover:scale-105"),children:[(0,s.jsx)("span",{className:"text-xl",children:"⚙️"}),(0,s.jsx)("span",{children:C?"Hide Quiz Settings":"Quiz Settings"})]})}),C&&(0,s.jsxs)("div",{className:"space-y-3 ".concat(g.R7.float(k)," mb-4"),children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 dark:from-red-900/20 dark:to-pink-900/20 rounded-xl p-3",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2 flex items-center text-sm",children:"\uD83C\uDF9A️ Difficulty Level"}),(0,s.jsx)("div",{className:"grid gap-2 ".concat(v?"grid-cols-1":"grid-cols-2"),children:["easy","hard"].map(e=>(0,s.jsx)(u.N,{title:"easy"===e?"\uD83D\uDFE2 Easy":"\uD83D\uDD34 Hard",subtitle:"easy"===e?"Basic problems":"Challenging problems",isSelected:j.difficulty===e,onClick:()=>Q("difficulty",e)},e))}),T&&(0,s.jsxs)("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:["\uD83D\uDCA1 Recommended for ",f[T].label,": ",j.difficulty]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-yellow-50 dark:from-green-900/20 dark:to-yellow-900/20 rounded-xl p-3",children:[(0,s.jsxs)("div",{className:"grid gap-3 ".concat(v?"grid-cols-1":"grid-cols-2"),children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2 flex items-center text-sm",children:"\uD83D\uDCCA Number of Questions"}),(0,s.jsx)(d.X,{type:"number",label:"",placeholder:"Minimum 5",value:j.numberOfQuestions,onChange:e=>Q("numberOfQuestions",parseInt(e)||5),error:O.numberOfQuestions,inputMode:"numeric"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2 flex items-center text-sm",children:"⏰ Timer per Question"}),(0,s.jsx)(d.X,{type:"number",label:"",placeholder:"Minimum 5 seconds",value:j.timerPerQuestion,onChange:e=>Q("timerPerQuestion",parseInt(e)||10),error:O.timerPerQuestion,inputMode:"numeric"})]})]}),T&&(0,s.jsxs)("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:["\uD83D\uDCA1 ",f[T].label," settings: ",f[T].numberOfQuestions," questions, ",f[T].timerPerQuestion,"s per question"]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl p-3",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2 flex items-center text-sm",children:"\uD83C\uDFAF Question Type"}),(0,s.jsx)("div",{className:"grid gap-2 ".concat(v?"grid-cols-1":"grid-cols-2"),children:[{value:"expression",label:"\uD83D\uDCDD Math Expression",subtitle:"e.g., 4 + 3 = ?"},{value:"multiple-choice",label:"\uD83C\uDFAF Multiple Choice",subtitle:"3 options"}].map(e=>(0,s.jsx)(u.N,{title:e.label,subtitle:e.subtitle,isSelected:j.questionType===e.value,onClick:()=>Q("questionType",e.value)},e.value))}),T&&(0,s.jsxs)("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:["\uD83D\uDCA1 Your year level supports: ",f[T].questionType.map(e=>"expression"===e?"Math Expression":"Multiple Choice").join(", ")]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-3",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2 flex items-center text-sm",children:"\uD83D\uDD22 Number Types (Select Multiple)"}),(0,s.jsx)("div",{className:"grid gap-2 ".concat(v?"grid-cols-1":"grid-cols-3"),children:[{value:"integers",label:"\uD83D\uDD22 Integers",subtitle:"Whole numbers (1, 2, 3...)"},{value:"decimals",label:"\uD83D\uDD38 Decimals",subtitle:"Decimal numbers (1.5, 2.25...)"},{value:"fractions",label:"\uD83E\uDDEE Fractions",subtitle:"Fraction numbers (1/2, 3/4...)"},{value:"currency",label:"\uD83D\uDCB0 Currency",subtitle:"Money calculations ($1.50, $2.25...)"},{value:"time",label:"⏰ Time",subtitle:"Time calculations (1:30, 2:45...)"}].map(e=>(0,s.jsx)(u.N,{title:e.label,subtitle:e.subtitle,isSelected:j.numberTypes.includes(e.value),onClick:()=>{var t;return t=e.value,void(N(e=>{let r=e.numberTypes;return r.includes(t)?1===r.length?e:{...e,numberTypes:r.filter(e=>e!==t)}:{...e,numberTypes:[...r,t]}}),O.numberTypes&&S(e=>({...e,numberTypes:""})))}},e.value))}),j.numberTypes.length>0&&(0,s.jsxs)("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:["Selected: ",j.numberTypes.map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(", ")]}),T&&(0,s.jsxs)("div",{className:"mt-2 text-xs text-blue-600 dark:text-blue-400",children:["\uD83D\uDCA1 ",f[T].label," includes: ",f[T].numberTypes.map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(", ")]}),O.numberTypes&&(0,s.jsx)("div",{className:"mt-2 text-xs text-red-600 dark:text-red-400",children:O.numberTypes})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-xl p-3",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2 flex items-center text-sm",children:"\uD83D\uDD22 Math Operations (Select Multiple)"}),(0,s.jsx)("div",{className:"grid gap-2 ".concat(v?"grid-cols-1":"grid-cols-3"),children:[{value:"addition",label:"➕ Addition",subtitle:"Basic addition"},{value:"subtraction",label:"➖ Subtraction",subtitle:"Basic subtraction"},{value:"multiplication",label:"✖️ Multiplication",subtitle:"Times tables"},{value:"division",label:"➗ Division",subtitle:"Division problems"},{value:"algebraic",label:"\uD83D\uDD22 Algebraic",subtitle:"Solve for x"}].map(e=>(0,s.jsx)(u.N,{title:e.label,subtitle:e.subtitle,isSelected:j.mathOperations.includes(e.value),onClick:()=>{var t;return t=e.value,void(N(e=>{let r=e.mathOperations;return r.includes(t)?1===r.length?e:{...e,mathOperations:r.filter(e=>e!==t)}:{...e,mathOperations:[...r,t]}}),O.mathOperations&&S(e=>({...e,mathOperations:""})))}},e.value))}),j.mathOperations.length>0&&(0,s.jsxs)("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:["Selected: ",j.mathOperations.map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(", ")]}),T&&(0,s.jsxs)("div",{className:"mt-2 text-xs text-blue-600 dark:text-blue-400",children:["\uD83D\uDCA1 ",f[T].label," includes: ",f[T].mathOperations.map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(", ")]}),O.mathOperations&&(0,s.jsx)("div",{className:"mt-2 text-xs text-red-600 dark:text-red-400",children:O.mathOperations})]}),(0,s.jsx)(h,{isMobile:v})]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(c.T,{variant:"primary",size:"lg",fullWidth:!0,onClick:()=>{(()=>{let e={};return j.username.trim()||(e.username="Please enter your name"),j.numberOfQuestions<5&&(e.numberOfQuestions="Minimum 5 questions required"),j.timerPerQuestion<5&&(e.timerPerQuestion="Minimum 5 seconds required"),0===j.mathOperations.length&&(e.mathOperations="Please select at least one math operation"),0===j.numberTypes.length&&(e.numberTypes="Please select at least one number type"),S(e),0===Object.keys(e).length})()&&(console.log("Saving user preferences:",j),t(j),p(),r((0,n.L)(j.numberOfQuestions,j.difficulty,j.mathOperations,j.questionType,j.numberTypes)),e.push("/quiz"))},icon:"\uD83D\uDE80",children:"Start Quiz!"})}),(0,s.jsx)("div",{className:"mt-3",children:(0,s.jsx)(c.T,{variant:"secondary",size:"lg",fullWidth:!0,onClick:()=>e.push("/history"),icon:"\uD83D\uDCCA",children:"View History"})})]})})})}},7523:(e,t,r)=>{"use strict";r.d(t,{N:()=>a});var s=r(5155);r(2115);let a=e=>{let{title:t,subtitle:r,icon:a,isSelected:i=!1,onClick:l,disabled:n=!1,className:o="",compact:c=!1}=e;return(0,s.jsx)("button",{onClick:l,disabled:n,className:"\n        w-full ".concat(c?"min-h-[60px] p-4":"min-h-[80px] p-6"," rounded-xl border-2 transition-all duration-200 cursor-pointer\n        ").concat(i?"border-blue-500 dark:border-blue-400 bg-blue-50 dark:bg-blue-900/30 shadow-md":"border-gray-200 dark:border-slate-600 bg-white dark:bg-slate-800 hover:border-gray-300 dark:hover:border-slate-500 hover:bg-gray-50 dark:hover:bg-slate-700","\n        ").concat(n?"opacity-50 cursor-not-allowed":"active:scale-98 cursor-pointer hover:scale-102","\n        focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 shadow-sm\n        ").concat(o,"\n      "),children:(0,s.jsxs)("div",{className:"flex ".concat(c?"flex-row items-center justify-start space-x-3":"flex-col items-center justify-center space-y-2"),children:[a&&(0,s.jsx)("span",{className:"".concat(c?"text-xl":"text-2xl"),role:"img","aria-hidden":"true",children:a}),(0,s.jsxs)("div",{className:"".concat(c?"text-left":"text-center"),children:[(0,s.jsx)("span",{className:"font-semibold text-gray-800 dark:text-gray-200 ".concat(c?"text-base":"text-center"),children:t}),r&&!c&&(0,s.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400 text-center block mt-1",children:r})]})]})})}}},e=>{e.O(0,[595,94,558,441,964,358],()=>e(e.s=665)),_N_E=e.O()}]);